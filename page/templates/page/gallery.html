{% extends 'base.html' %}
{% load static %}

{% block title %}Gallery{% endblock %}

{% block content %}

	<!-- Page Title ============================================= -->
	<section id="page-title">
		<div class="container clearfix">
			<h1>Gallery</h1>
			<ol class="breadcrumb">
				<li class="breadcrumb-item"><a href="{% url 'home' %}">Home</a></li>
				<li class="breadcrumb-item active" aria-current="page">Gallery</li>
			</ol>
		</div>
	</section>
    <!-- #page-title end -->

	<!-- Content ============================================= -->
	<!-- <section id="content">
		<div class="content-wrap">
			<div class="container clearfix">
				<div class="masonry-thumbs grid-container grid-3" data-big="2" data-lightbox="gallery">
					{% for pic in object_list %}
						<a class="grid-item" href="{{ pic.image.url }}" data-lightbox="gallery-item"><img src="{{ pic.image.url }}" alt="Gallery Image"></a>
					{% endfor %}
				</div>
				<div class="mt-5">
					{% if is_paginated %}

						{% if page_obj.has_previous %}
							<a class="btn btn-outline-secondary" href="?page=1">First</a>
							<a class="btn btn-outline-secondary" href="?page={{ page_obj.previous_page_number }}">Previous</a>
						{% endif %}
				
						{% for num in page_obj.paginator.page_range %}
						{% if page_obj.number == num %}
							<a class="btn btn-secondary" href="?page={{ num }}">{{ num }}</a>
						{% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
							<a class="btn btn-outline-secondary" href="?page={{ num }}">{{ num }}</a>
						{% endif %}
						{% endfor %}
				
						{% if page_obj.has_next %}
							<a class="btn btn-outline-secondary" href="?page={{ page_obj.next_page_number }}">Next</a>
							<a class="btn btn-outline-secondary" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
						{% endif %}
			
					{% endif %}
				</div>
			</div>
		</div>
	</section>#content end -->



			<!-- Content ============================================= -->
			<section id="content">
				<div class="content-wrap">
					<div class="container clearfix">
						<div class="row gutter-40 col-mb-80">
							<div class="postcontent col-lg-10">
								<div class="row" data-big="2" data-lightbox="gallery">
									{% for pic in images %}
									<div class="mb-4 col-lg-4">
										<h4>{{ pic.title }}</h4>
										<a class="grid-item" href="{{ pic.image.url }}" data-lightbox="gallery-item"><img src="{{ pic.image.url }}" alt="Gallery Image"></a>
										<p>{{ pic.description|truncatechars:200 }}</p>
									</div>
									{% endfor %}
								</div>
								{% if images.has_other_pages %}

									{% if images.has_previous %}
										<a class="btn btn-outline-secondary" href="?page=1">First</a>
										<a class="btn btn-outline-secondary" href="?page={{ images.previous_page_number }}">Previous</a>
									{% endif %}
								
									{% for num in images.paginator.page_range %}
									{% if images.number == num %}
										<a class="btn btn-secondary" href="?page={{ num }}">{{ num }}</a>
									{% elif num > images.number|add:'-3' and num < images.number|add:'3' %}
										<a class="btn btn-outline-secondary" href="?page={{ num }}">{{ num }}</a>
									{% endif %}
									{% endfor %}
								
									{% if images.has_next %}
										<a class="btn btn-outline-secondary" href="?page={{ images.next_page_number }}">Next</a>
										<a class="btn btn-outline-secondary" href="?page={{ images.paginator.num_pages }}">Last</a>
									{% endif %}
			
								{% endif %}
							</div>

							<!-- Sidebar ============================================= -->
							<div class="sidebar col-lg-2">
								<div class="sidebar-widgets-wrap">
									<div class="widget widget_links clearfix">
										<h4>Pictures</h4>
										<ul>
											<li><a href="{% url 'gallery' %}"><div>All</div></a></li>
											{% for cat_name in categories %}
												{% if cat_name.name == category.name %}
													<li><a style="color: rgb(41, 106, 245);" href="{% url 'images-list-by-category' category_slug=cat_name.slug %}"><div>{{ cat_name.name }}</div></a></li>
												{% else %}
													<li><a href="{% url 'images-list-by-category' category_slug=cat_name.slug %}"><div>{{ cat_name.name }}</div></a></li>
												{% endif %}
											{% endfor %}
										</ul>
									</div>
								</div>
							</div><!-- .sidebar end -->
						</div>
					</div>
				</div>
			</section><!-- #content end -->

{% endblock %}
