{% extends 'base.html' %}
{% load embed_video_tags %}

{% block title %}Videos{% endblock %}

{% block content %}

	<!-- Page Title ============================================= -->
	<section id="page-title">
		<div class="container clearfix">
			<h1>{% if category.name %}{{ category.name }}{% else %}All Videos{% endif %}</h1>
			<ol class="breadcrumb">
				<li class="breadcrumb-item"><a href="{% url 'home' %}">Home</a></li>
				<li class="breadcrumb-item active" aria-current="page">Videos</li>
			</ol>
		</div>
	</section>
    <!-- #page-title end -->

		<!-- Content ============================================= -->
		<section id="content">
			<div class="content-wrap">
				<div class="container clearfix">
					<div class="row gutter-40 col-mb-80">
						<!-- Post Content ============================================= -->
						<div class="postcontent col-lg-9">
							<div class="row">
								{% for file in videos %}
								<div class="col-lg-6 mb-4">
									<h3>{{ file.title }}</h3>
									{% video file.video_path '640x480' %}
								</div>
								{% endfor %}
							</div>
							{% if videos.has_other_pages %}
								{% if videos.has_previous %}
									<a class="btn btn-outline-secondary" href="?page=1">First</a>
									<a class="btn btn-outline-secondary" href="?page={{ videos.previous_page_number }}">Previous</a>
								{% endif %}
				
								{% for num in videos.paginator.page_range %}
								{% if videos.number == num %}
									<a class="btn btn-secondary" href="?page={{ num }}">{{ num }}</a>
								{% elif num > videos.number|add:'-3' and num < videos.number|add:'3' %}
									<a class="btn btn-outline-secondary" href="?page={{ num }}">{{ num }}</a>
								{% endif %}
								{% endfor %}
						
								{% if videos.has_next %}
									<a class="btn btn-outline-secondary" href="?page={{ videos.next_page_number }}">Next</a>
									<a class="btn btn-outline-secondary" href="?page={{ videos.paginator.num_pages }}">Last</a>
								{% endif %}
							{% endif %}
						</div><!-- .postcontent end -->
						<!-- Sidebar ============================================= -->
						<div class="sidebar col-lg-3">
							<div class="sidebar-widgets-wrap">
								<div class="widget widget_links clearfix">
									<h4>Categories</h4>
									<ul>
										<li><a href="{% url 'videos-list' %}"><div>All</div></a></li>
										{% for cat_name in categories %}
											{% if cat_name.name == category.name %}
												<li><a style="color: rgb(41, 106, 245);" href="{% url 'videos-list-by-category' category_slug=cat_name.slug %}"><div>{{ cat_name.name }}</div></a></li>
											{% else %}
												<li><a href="{% url 'videos-list-by-category' category_slug=cat_name.slug %}"><div>{{ cat_name.name }}</div></a></li>
											{% endif %}
										{% endfor %}
									</ul>
								</div>
							</div>
						</div><!-- .sidebar end -->
					</div>
				</div>
			</div>
		</section><!-- #content end -->

{% endblock %}
